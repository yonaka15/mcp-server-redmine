aW1wb3J0IHsgamVzdCwgZXhwZWN0LCBkZXNjcmliZSwgaXQsIGJlZm9yZUVh\r\nY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJzsNCmltcG9ydCB0eXBlIHsgTW9j\r\nSyB9IGZyb20gJ2plc3QtbW9jayc7DQppbXBvcnQgeyBVc2Vyc0NsaWVudCB9IGZy\r\nb20gIi4uLy4uLy4uL2NsaWVudC91c2Vycy5qcyI7DQppbXBvcnQgeyBtb2NrUmVz\r\ncG9uc2UsIG1vY2tFcnJvclJlc3BvbnNlIH0gZnJvbSAiLi4vLi4vaGVscGVycy9t\r\nb2Nrcy5qcyI7DQppbXBvcnQgKiBhcyBmaXh0dXJlcyBmcm9tICIuLi8uLi9oZWxw\r\nZXJzL2ZpeHR1cmVzLmpzIjsNCmltcG9ydCBjb25maWcgZnJvbSAiLi4vLi4vLi4v\r\nY29uZmlnLmpzIjsNCmltcG9ydCB7IFJlZG1pbmVBcGlFcnJvciB9IGZyb20gIi4u\r\nLy4uLy4uL2NsaWVudC9iYXNlLmpzIjsNCmltcG9ydCB7IFVzZXJMaXN0UGFyYW1z\r\nIH0gZnJvbSAiLi4vLi4vLi4vdHlwZXMvaW5kZXguanMiOw0KaW1wb3J0IHsgcGFy\r\nc2VVcmwgfSBmcm9tICIuLi8uLi9oZWxwZXJzL3VybC5qcyI7DQoNCmRlc2NyaWJl\r\nKCJVc2VycyBBUEkgKEdFVCkiLCAoKSA9PiB7DQogIGxldCBjbGllbnQ6IFVzZXJz\r\nQ2xpZW50Ow0KICBsZXQgbW9ja0ZldGNoOiBNb2NrOw0KDQogIGJlZm9yZUVhY2go\r\nKCkgPT4gew0KICAgIGNsaWVudCA9IG5ldyBVc2Vyc0NsaWVudCgpOw0KICAgIG1v\r\nY2tGZXRjaCA9IGplc3Quc3B5T24oZ2xvYmFsLCAiZmV0Y2giKSBhcyBNb2NrOw0K\r\nICAgIG1vY2tGZXRjaC5tb2NrUmVzZXQoKTsNCiAgfSk7DQoNCiAgZGVzY3JpYmUo\r\nIkdFVCAvdXNlcnMuanNvbiAoZ2V0VXNlcnMpIiwgKCkgPT4gew0KICAgIGl0KCJm\r\nZXRjaGVzIHVzZXJzIGxpc3Qgd2l0aG91dCBwYXJhbWV0ZXJzIiwgYXN5bmMgKCkg\r\nPT4gew0KICAgICAgLy8gQXJyYW5nZQ0KICAgICAgbW9ja0ZldGNoLm1vY2tJbXBs\r\nZW1lbnRhdGlvbk9uY2UoYXN5bmMgKCkgPT4NCiAgICAgICAgbW9ja1Jlc3BvbnNl\r\nKGZpeHR1cmVzLnVzZXJMaXN0UmVzcG9uc2UpDQogICAgICApOw0KDQogICAgICAv\r\nLyBBY3QNCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5nZXRVc2Vy\r\ncygpOw0KDQogICAgICAvLyBBc3NlcnQNCiAgICAgIGNvbnN0IGV4cGVjdGVkVXJs\r\nID0gbmV3IFVSTCgiL3VzZXJzLmpzb24iLCBjb25maWcucmVkbWluZS5ob3N0KTsN\r\nCiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKA0K\r\nICAgICAgICBleHBlY3RlZFVybC50b1N0cmluZygpLA0KICAgICAgICBleHBlY3Qu\r\nb2JqZWN0Q29udGFpbmluZyh7DQogICAgICAgICAgbWV0aG9kOiAiR0VUIiwNCiAg\r\nICAgICAgICBoZWFkZXJzOiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7DQogICAg\r\nICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgICAg\r\nICAiWC1SZWRtaW5lLUFQSS1LZXkiOiBjb25maWcucmVkbWluZS5hcGlLZXksDQog\r\nICAgICAgICAgfSkscan0pDQogICAgICApOw0KICAgICAgZXhwZWN0KHJlc3VsdCku\r\ndG9FcXVhbChmaXh0dXJlcy51c2VyTGlzdFJlc3BvbnNlKTsNCiAgICB9KTsNCg0K\r\nICAgIGl0KCJmZXRjaGVzIHVzZXJzIGxpc3Qgd2l0aCBwYXJhbWV0ZXJzIiwgYXN5\r\nbmMgKCkgPT4gew0KICAgICAgLy8gQXJyYW5nZQ0KICAgICAgY29uc3QgcGFyYW1z\r\nOiBVc2VyTGlzdFBhcmFtcyA9IHsNCiAgICAgICAgc3RhdHVzOiAxLA0KICAgICAg\r\nICBuYW1lOiAiam9obiIsDQogICAgICAgIGdyb3VwX2lkOiAxLA0KICAgICAgICBv\r\nZmZzZXQ6IDAsDQogICAgICAgIGxpbWl0OiAyNSwNCiAgICAgIH07DQogICAgICBt\r\nb2NrRmV0Y2gubW9ja0ltcGxlbWVudGF0aW9uT25jZShhc3luYyAoKSA9Pg0KICAg\r\nICAgICBtb2NrUmVzcG9uc2UoZml4dHVyZXMudXNlckxpc3RSZXNwb25zZSkNCiAg\r\nICAgICk7DQoNCiAgICAgIC8vIEFjdA0KICAgICAgYXdhaXQgY2xpZW50LmdldFVz\r\nZXJzKHBhcmFtcyk7IC8vIHJlc3VsdCB2YXJpYWJsZSByZW1vdmVkIGFzIHBlciBl\r\nc2xpbnQgZXJyb3INCg0KICAgICAgLy8gQXNzZXJ0DQogICAgICBjb25zdCBbdXJs\r\nXSA9IG1vY2tGZXRjaC5tb2NrLmNhbGxzWzBdIGFzIFtzdHJpbmcsIC4uLnVua25v\r\nd25bXV07DQogICAgICBjb25zdCB7IHBhcmFtczogYWN0dWFsUGFyYW1zIH0gPSBw\r\nYXJzZVVybCh1cmwpOw0KICAgICAgZXhwZWN0KGFjdHVhbFBhcmFtcykudG9FcXVh\r\nbCh7DQogICAgICAgIHN0YXR1czogIjEiLA0KICAgICAgICBuYW1lOiAiam9obiIs\r\nDQogICAgICAgIGdyb3VwX2lkOiAiMSIsDQogICAgICAgIG9mZnNldDogIjAiLA0K\r\nICAgICAgICBsaW1pdDogIjI1IiwNCiAgICAgIH0pOw0KICAgIH0pOw0KDQogICAg\r\naXQoImhhbmRsZXMgZm9yYmlkZGVuIGVycm9yIChub24tYWRtaW4gYWNjZXNzKSIs\r\nIGFzeW5jICgpID0+IHsNCiAgICAgIC8vIEFycmFuZ2UNCiAgICAgIG1vY2tGZXRj\r\naC5tb2NrSW1wbGVtZW50YXRpb25PbmNlKGFzeW5jICgpID0+DQogICAgICAgIG1v\r\nY2tFcnJvclJlc3BvbnNlKDQwMywgWyJGb3JiaWRkZW4uIEFkbWluIHByaXZpbGVn\r\nZXMgcmVxdWlyZWQuIl0pDQogICAgICApOw0KDQogICAgICAvLyBBY3QgJiBBc3Nl\r\ncnQNCiAgICAgIGF3YWl0IGV4cGVjdChjbGllbnQuZ2V0VXNlcnMoKSkucmVqZWN0\r\ncy50b1Rocm93KA0KICAgICAgICAiUmVkbWluZSBBUEkgZXJyb3I6IDQwMyBFcnJv\r\nclxcbkZvcmJpZGRlbi4gQWRtaW4gcHJpdmlsZWdlcyByZXF1aXJlZC4iDQogICAg\r\nICApOw0KICAgIH0pOw0KICB9KTsNCg0KICBkZXNjcmliZSgiR0VUIC91c2Vycy86\r\naWQuanNvbiAoZ2V0VXNlcikiLCAoKSA9PiB7DQogICAgaXQoImZldGNoZXMgc2lu\r\nZ2xlIHVzZXIgc3VjY2Vzc2Z1bGx5IiwgYXN5bmMgKCkgPT4gew0KICAgICAgLy8g\r\nQXJyYW5nZQ0KICAgICAgbW9ja0ZldGNoLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2Uo\r\nYXN5bmMgKCkgPT4NCiAgICAgICAgbW9ja1Jlc3BvbnNlKGZpeHR1cmVzLnNpbmds\r\nZVVzZXJSZXNwb25zZSkNCiAgICAgICk7DQoNCiAgICAgIGNvbnN0IHVzZXJJZCA9\r\nIGZpeHR1cmVzLnNpbmdsZVVzZXJSZXNwb25zZS51c2VyLmlkOw0KDQogICAgICAv\r\nLyBBY3QNCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5nZXRVc2Vy\r\nKHVzZXJJZCk7DQoNCiAgICAgIC8vIEFzc2VydA0KICAgICAgY29uc3QgZXhwZWN0\r\nZWRVcmwgPSBuZXcgVVJMKA0KICAgICAgICBgL3VzZXJzLyR7dXNlcklkfS5qc29u\r\nYCwNCiAgICAgICAgY29uZmlnLnJlZG1pbmUuaG9zdA0KICAgICAgKTsNCiAgICAg\r\nIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKA0KICAgICAg\r\nICBleHBlY3RlZFVybC50b1N0cmluZygpLA0KICAgICAgICBleHBlY3Qub2JqZWN0\r\nQ29udGFpbmluZyh7DQogICAgICAgICAgbWV0aG9kOiAiR0VUIiwNCiAgICAgICAg\r\nICBoZWFkZXJzOiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7DQogICAgICAgICAg\r\nICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgICAgICAgIlgt\r\nUmVkbWluZS1QSS1LZXkiOiBjb25maWcucmVkbWluZS5hcGlLZXksDQogICAgICAg\r\nICAgfSkscan0pDQogICAgICApOw0KICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVh\r\nbChmaXh0dXJlcy5zaW5nbGVVc2VyUmVzcG9uc2UpOw0KICAgIH0pOw0KDQogICAg\r\naXQoImZldGNoZXMgY3VycmVudCB1c2VyIHN1Y2Nlc3NmdWxseSIsIGFzeW5jICgp\r\nID0+IHsNCiAgICAgIC8vIEFycmFuZ2UNCiAgICAgIG1vY2tGZXRjaC5tb2NrSW1w\r\nbGVtZW50YXRpb25PbmNlKGFzeW5jICgpID0+DQogICAgICAgIG1vY2tSZXNwb25z\r\nZShmaXh0dXJlcy5zaW5nbGVVc2VyUmVzcG9uc2UpDQogICAgICApOw0KDQogICAg\r\nICAvLyBBY3QNCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5nZXRV\r\nc2VyKCJjdXJyZW50Iik7DQoNCiAgICAgIC8vIEFzc2VydA0KICAgICAgY29uc3Qg\r\nZXhwZWN0ZWRVcmwgPSBuZXcgVVJMKANCiAgICAgICAgIi91c2Vycy9jdXJyZW50\r\nLmpzb24iLA0KICAgICAgICBjb25maWcucmVkbWluZS5ob3N0DQogICAgICApOw0K\r\nICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYWJlQmFsbGVkV2l0aCgNCiAgICAg\r\nICAgZXhwZWN0ZWRVcmwudG9TdHJpbmcoKSwNCiAgICAgICAgZXhwZWN0Lm9iamVj\r\ndENvbnRhaW5pbmcoew0KICAgICAgICAgIG1ldGhvZDogIkdFVCIsDQogICAgICAg\r\nICAgaGVhZGVyczogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoew0KICAgICAgICAg\r\nICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICAgICAgIlgt\r\nUmVkbWluZS1QSS1LZXkiOiBjb25maWcucmVkbWluZS5hcGlLZXksDQogICAgICAg\r\nICAgfSkscan0pDQogICAgICApOw0KICAgICAgLy8gTm90ZTogVGhlIGFzc2VydGlv\r\nbiBmb3IgYHJlc3VsdGAgd291bGQgZGVwZW5kIG9uIHRoZSBhY3R1YWwgcmVzcG9u\r\nc2UgZml4dHVyZSBmb3IgY3VycmVudCB1c2VyDQogICAgfSk7DQoNCiAgICBkZXNj\r\ncmliZSgiaW5jbHVkaW5nIGFzc29jaWF0ZWQgZGF0YSIsICgpID0+IHsNCiAgICAg\r\nIGl0KCJpbmNsdWRlcyBzaW5nbGUgdHlwZSBvZiBhc3NvY2lhdGVkIGRhdGEiLCBh\r\nc3luYyAoKSA9PiB7DQogICAgICAgIC8vIEFycmFuZ2UNCiAgICAgICAgbW9ja0Zl\r\ndGNoLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoYXN5bmMgKCkgPT4NCiAgICAgICAg\r\nICBtb2NrUmVzcG9uc2UoZml4dHVyZXMuc2luZ2xlVXNlcldpdGhJbmNsdWRlc1Jl\r\nc3BvbnNlKQ0KICAgICAgICApOw0KDQogICAgICAgIC8vIEFjdA0KICAgICAgICAv\r\nLyBPcmlnaW5hbDogY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LmdldFVzZXIo\r\nMSwgeyBpbmNsdWRlOiAibWVtYmVyc2hpcHMiIH0pOw0KICAgICAgICAvLyBlc2xp\r\nbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNl\r\nZC12YXJzDQogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5nZXRV\r\nc2VyKDEsIHsgaW5jbHVkZTogIm1lbWJlcnNoaXBzIiB9KTsNCg0KICAgICAgICAv\r\nLyBBc3NlcnQNCiAgICAgICAgY29uc3QgW3VybF0gPSBtb2NrRmV0Y2gubW9jay5j\r\nYWxsc1swXSBhcyBbc3RyaW5nLCAuLi51bmtub3duW11dOw0KICAgICAgICBjb25z\r\ndCB7IHBhcmFtczogYWN0dWFsUGFyYW1zIH0gPSBwYXJzZVVybCh1cmwpOw0KICAg\r\nICAgICBleHBlY3QoYWN0dWFsUGFyYW1zKS50b0VxdWFsKHsNCiAgICAgICAgICBp\r\nbmNsdWRlOiAibWVtYmVyc2hpcHMiDQogICAgICAgIH0pOw0KICAgICAgICBleHBl\r\nY3QocmVzdWx0LnVzZXIubWVtYmVyc2hpcHMpLnRvQmVEZWZpbmVkKCk7DQogICAg\r\nICB9KTsNCg0KICAgICAgaXQoImluY2x1ZGVzIG11bHRpcGxlIHR5cGVzIG9mIGFz\r\nc29jaWF0ZWQgZGF0YSIsIGFzeW5jICgpID0+IHsNCiAgICAgICAgLy8gQXJyYW5n\r\nZQ0KICAgICAgICBtb2NrRmV0Y2gubW9ja0ltcGxlbWVudGF0aW9uT25jZShhc3lu\r\ncyAoKSA9Pg0KICAgICAgICAgIG1vY2tSZXNwb25zZShmaXh0dXJlcy5zaW5nbGVV\r\nc2VyV2l0aEluY2x1ZGVzUmVzcG9uc2UpDQogICAgICAgICk7DQoNCiAgICAgICAg\r\nLy8gQWN0DQogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5nZXRV\r\nc2VyKDEsIHsNCiAgICAgICAgICBpbmNsdWRlOiAibWVtYmVyc2hpcHMsZ3JvdXBz\r\nIg0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBBc3NlcnQNCiAgICAgICAgY29u\r\nc3QgW3VybF0gPSBtb2NrRmV0Y2gubW9jay5jYWxsc1swXSBhcyBbc3RyaW5nLCAu\r\nLi51bmtub3duW11dOw0KICAgICAgICBjb25zdCB7IHBhcmFtczogYWN0dWFsUGFy\r\nYW1zIH0gPSBwYXJzZVVybCh1cmwpOw0KICAgICAgICBleHBlY3QoYWN0dWFsUGFy\r\nYW1zKS50b0VxdWFsKHsNCiAgICAgICAgICBpbmNsdWRlOiAibWVtYmVyc2hpcHMs\r\nZ3JvdXBzIg0KICAgICAgICB9KTsNCiAgICAgICAgZXhwZWN0KHJlc3VsdC51c2Vy\r\nLm1lbWJlcnNoaXBzKS50b0JlRGVmaW5lZCgpOw0KICAgICAgICBleHBlY3QocmVz\r\ndWx0LnVzZXIuZ3JvdXBzKS50b0JlRGVmaW5lZCgpOw0KICAgICAgfSk7DQogICAg\r\nfSk7DQoNCiAgICBkZXNjcmliZSgiZXJyb3IgaGFuZGxpbmciLCAoKSA9PiB7DQog\r\nICAgICBpdCgiaGFuZGxlcyBpbnZhbGlkIGluY2x1ZGUgcGFyYW1ldGVyIiwgYXN5\r\nbmMgKCkgPT4gew0KICAgICAgICAvLyBBY3QgJiBBc3NlcnQNCiAgICAgICAgYXdh\r\naXQgZXhwZWN0KA0KICAgICAgICAgIGNsaWVudC5nZXRVc2VyKDEsIHsgaW5jbHVk\r\nZTogImludmFsaWQsdmFsdWVzIiB9KQ0KICAgICAgICApLnJlamVjdHMudG9UaHJv\r\ndygiSW52YWxpZCBpbmNsdWRlIHBhcmFtZXRlci4gVmFsaWQgdmFsdWVzIGFyZTog\r\nbWVtYmVyc2hpcHMsIGdyb3VwcyIpOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJo\r\nYW5kbGVzIHVzZXIgbm90IGZvdW5kIGVycm9yIiwgYXN5bmMgKCkgPT4gew0KICAg\r\nICAgICAvLyBBcnJhbmdlDQogICAgICAgIG1vY2tGZXRjaC5tb2NrSW1wbGVtZW50\r\nYXRpb25PbmNlKGFzeW5jICgpID0+DQogICAgICAgICAgbW9ja0Vycm9yUmVzcG9u\r\nc2UoNDA0LCBbIlVzZXIgbm90IGZvdW5kIl0pDQogICAgICAgICk7DQoNCiAgICAg\r\nICAgLy8gQWN0ICYgQXNzZXJ0DQogICAgICAgIGF3YWl0IGV4cGVjdChjbGllbnQu\r\nZ2V0VXNlcig5OTkpKQ0KICAgICAgICAgIC5yZWplY3RzLnRvVGhyb3coUmVkbWlu\r\nZUFwaUVycm9yKTsNCiAgICAgIH0pOw0KDQogICAgICBpdCgiaGFuZGxlcyB1bmF1\r\ndGhvcml6ZWQgYWNjZXNzIiwgYXN5bmMgKCkgPT4gew0KICAgICAgICAvLyBBcnJh\r\nbmdlDQogICAgICAgIG1vY2tGZXRjaC5tb2NrSW1wbGVtZW50YXRpb25PbmNlKGFz\r\neW5jICgpID0+DQogICAgICAgICAgbW9ja0Vycm9yUmVzcG9uc2UoNDAzLCBbIlVu\r\nYXV0aG9yaXplZCBhY2Nlc3MiXSkNCiAgICAgICAgKTsNCg0KICAgICAgICAvLyBB\r\nY3QgJiBBc3NlcnQNCiAgICAgICAgYXdhaXQgZXhwZWN0KGNsaWVudC5nZXRVc2Vy\r\nKDEpKQ0KICAgICAgICAgIC5yZWplY3RzLnRvVGhyb3coUmVkbWluZUFwaUVycm9y\r\nKTsNCiAgICAgIH0pOw0KICAgIH0pOw0KICB9KTsNCg0KICBkZXNjcmliZSgiZ2V0\r\nQ3VycmVudFVzZXIiLCAoKSA9PiB7DQogICAgaXQoImZldGNoZXMgY3VycmVudCB1\r\nc2VyIGFzIGEgc2hvcnRoYW5kIiwgYXN5bmMgKCkgPT4gew0KICAgICAgLy8gQXJy\r\nYW5nZQ0KICAgICAgbW9ja0ZldGNoLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoYXN5\r\nbmMgKCkgPT4NCiAgICAgICAgbW9ja1Jlc3BvbnNlKGZpeHR1cmVzLnNpbmdsZVVz\r\nZXJSZXNwb25zZSkNCiAgICAgICk7DQoNCiAgICAgIC8vIEFjdA0KICAgICAgY29u\r\nc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LmdldEN1cnJlbnRVc2VyKCk7DQoNCiAg\r\nICAgIC8vIEFzc2VydA0KICAgICAgY29uc3QgZXhwZWN0ZWRVcmwgPSBuZXcgVVJM\r\nKA0KICAgICAgICAiL3VzZXJzL2N1cnJlbnQuanNvbiIsDQogICAgICAgIGNvbmZp\r\nZy5yZWRtaW5lLmhvc3QNCiAgICAgICk7DQogICAgICBleHBlY3QobW9ja0ZldGNo\r\nKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgNCiAgICAgICAgZXhwZWN0ZWRVcmwudG9T\r\ndHJpbmcoKSwNCiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoew0KICAg\r\nICAgICAgIG1ldGhvZDogIkdFVCIsDQogICAgICAgICAgaGVhZGVyczogZXhwZWN0\r\nLm9iamVjdENvbnRhaW5pbmcoew0KICAgICAgICAgICAgIEFjY2VwdDogImFwcGxp\r\nY2F0aW9uL2pzb24iLA0KICAgICAgICAgICAgIlgtUmVkbWluZS1QSS1LZXkiOiBj\r\nb25maWcucmVkbWluZS5hcGlLZXksDQogICAgICAgICAgfSkscan0pDQogICAgICAp\r\nOw0KICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChmaXh0dXJlcy5zaW5nbGVV\r\nc2VyUmVzcG9uc2UpOw0KICAgIH0pOw0KDQogICAgaXQoImZldGNoZXMgY3VycmVu\r\ndCB1c2VyIHdpdGggaW5jbHVkZXMiLCBhc3luYyAoKSA9PiB7DQogICAgICAvLyBB\r\ncnJhbmdlDQogICAgICBtb2NrRmV0Y2gubW9ja0ltcGxlbWVudGF0aW9uT25jZShh\r\nc3luYyAoKSA9Pg0KICAgICAgICBtb2NrUmVzcG9uc2UoZml4dHVyZXMuc2luZ2xl\r\nVXNlcldpdGhJbmNsdWRlc1Jlc3BvbnNlKQ0KICAgICAgKTsNCg0KICAgICAgLy8g\r\nQWN0DQogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQuZ2V0Q3VycmVu\r\ndFVzZXIoew0KICAgICAgICBpbmNsdWRlOiAibWVtYmVyc2hpcHMsZ3JvdXBzIg0K\r\nICAgICAgfSk7DQoNCiAgICAgIC8vIEFzc2VydA0KICAgICAgY29uc3QgW3VybF0g\r\nPSBtb2NrRmV0Y2gubW9jay5jYWxsc1swXSBhcyBbc3RyaW5nLCAuLi51bmtub3du\r\nW11dOw0KICAgICAgY29uc3QgeyBwYXJhbXM6IGFjdHVhbFBhcmFtcyB9ID0gcGFy\r\nc2VVcmwodXJsKTsNCiAgICAgIGV4cGVjdChhY3R1YWxQYXJhbXMpLnRvRXF1YWwo\r\new0KICAgICAgICBpbmNsdWRlOiAibWVtYmVyc2hpcHMsZ3JvdXBzIg0KICAgICAg\r\nfSk7DQogICAgICBleHBlY3QocmVzdWx0LnVzZXIubWVtYmVyc2hpcHMpLnRvQmVE\r\nZWZpbmVkKCk7DQogICAgICBleHBlY3QocmVzdWx0LnVzZXIuZ3JvdXBzKS50b0Jl\r\nRGVmaW5lZCgpOw0KICAgIH0pOw0KICB9KTsNCn0pOw0K